<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description" content="PARTONOMY: Large Multimodal Models with Part-Level Visual Understanding">
  <meta name="keywords" content="Large Multimodal Models, Part-Level Visual Understanding, Segmentation, Visual Grounding, Fine-Grained Visual Understanding, PLUM, Explanatory Segmentation">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PARTONOMY: Large Multimodal Models with Part-Level Visual Understanding</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <style>
    :root {
      --primary-color: #3273dc;
      --secondary-color: #6366f1;
      --accent-color: #f59e0b;
      --background-color: #f8fafc;
      --card-background: #ffffff;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --border-color: #e2e8f0;
      --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Inter',sans-serif;line-height:1.6;color:var(--text-primary);background:var(--background-color)}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}
    .hero{background:var(--gradient-1);color:#fff;padding:80px 0;text-align:center;position:relative;overflow:hidden}
    .hero::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');opacity:.1}
    .hero-content{position:relative;z-index:1}
    .hero h1{font-size:3.2rem;font-weight:700;margin-bottom:20px;animation:fadeInUp 1s ease-out}
    .hero .subtitle{font-size:1.15rem;margin-bottom:30px;opacity:.95;animation:fadeInUp 1s ease-out .2s both}
    .authors{margin-bottom:30px;animation:fadeInUp 1s ease-out .4s both}
    .author-block{display:inline-block;margin:0 5px}
    .publication-links{display:flex;justify-content:center;gap:15px;flex-wrap:wrap;animation:fadeInUp 1s ease-out .6s both}
    .button{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:rgba(255,255,255,.2);color:#fff;text-decoration:none;border-radius:50px;backdrop-filter:blur(10px);transition:all .3s ease;border:1px solid rgba(255,255,255,.3)}
    .button:hover{background:rgba(255,255,255,.3);transform:translateY(-2px);box-shadow:0 10px 30px rgba(0,0,0,.2)}
    .section-card{background:var(--card-background);border-radius:20px;padding:40px;margin:40px 0;box-shadow:0 10px 40px rgba(0,0,0,.1);border:1px solid var(--border-color);transition:all .3s ease;position:relative;overflow:hidden}
    .section-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:4px;background:var(--gradient-1)}
    .section-card:hover{transform:translateY(-5px);box-shadow:0 20px 60px rgba(0,0,0,.15)}
    .section-title{font-size:2.2rem;font-weight:700;margin-bottom:30px;color:var(--text-primary);position:relative}
    .section-subtitle{font-size:1.4rem;font-weight:600;margin:30px 0 15px;color:var(--secondary-color)}
    .interactive-table{width:100%;border-collapse:collapse;margin:20px 0;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,.1)}
    .interactive-table thead{background:var(--gradient-1);color:#fff}
    .interactive-table th,.interactive-table td{padding:15px;text-align:left;border-bottom:1px solid var(--border-color)}
    .interactive-table tbody tr{transition:all .3s ease}
    .interactive-table tbody tr:hover{background:#f1f5f9;transform:scale(1.01)}
    .interactive-table .highlight{background:rgba(99,102,241,.1);font-weight:600;color:var(--secondary-color)}
    .figure-container{text-align:center;margin:30px 0;padding:20px;background:#f8fafc;border-radius:15px;border:2px dashed var(--border-color);transition:all .3s ease}
    .figure-container:hover{border-color:var(--secondary-color);background:#f1f5f9}
    .figure-container img{max-width:100%;height:auto;border-radius:10px;box-shadow:0 8px 30px rgba(0,0,0,.12);transition:transform .3s ease}
    .figure-container img:hover{transform:scale(1.02)}
    .figure-caption{margin-top:15px;color:var(--text-secondary);font-size:.95rem}
    .tab-container{margin:30px 0}
    .tab-buttons{display:flex;gap:5px;margin-bottom:20px;background:#f1f5f9;padding:5px;border-radius:10px;flex-wrap:wrap}
    .tab-button{flex:1;padding:12px 20px;background:transparent;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease;font-weight:500;font-size:1.05rem}
    .tab-button.active{background:#fff;color:var(--secondary-color);box-shadow:0 2px 10px rgba(0,0,0,.1)}
    .tab-content{display:none;animation:fadeIn .5s ease-in-out}
    .tab-content.active{display:block}
    @keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    .fade-in{opacity:0;transform:translateY(30px);transition:all .8s ease}
    .fade-in.visible{opacity:1;transform:translateY(0)}
    .resource-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin:30px 0}
    .resource-card{background:var(--card-background);padding:25px;border-radius:15px;border:1px solid var(--border-color);text-align:center;transition:all .3s ease}
    .resource-card:hover{transform:translateY(-5px);box-shadow:0 15px 40px rgba(0,0,0,.1)}
    .resource-card .icon{font-size:2.5rem;margin-bottom:15px;color:var(--secondary-color)}
    @media (max-width:768px){
      .hero h1{font-size:2.2rem}
      .section-card{padding:25px;margin:20px 0}
      .section-title{font-size:1.8rem}
      .publication-links{flex-direction:column;align-items:center}
      .tab-buttons{flex-direction:column}
      .interactive-table{font-size:.9rem}
      .interactive-table th,.interactive-table td{padding:10px}
    }
    .loading{display:inline-block;width:20px;height:20px;border:3px solid #f3f3f3;border-top:3px solid var(--secondary-color);border-radius:50%;animation:spin 1s linear infinite}
    @keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
    .scroll-indicator{position:fixed;top:0;left:0;height:4px;background:var(--gradient-1);z-index:1000;transition:width .3s ease}
  </style>
</head>

<body>
  <div class="scroll-indicator" id="scrollIndicator"></div>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h1>PARTONOMY: Large Multimodal Models with Part-Level Visual Understanding</h1>
        <p class="subtitle">A benchmark for <em>explanatory part segmentation</em> and a new segmenting LMM, <strong>PLUM</strong>.</p>
        
        <div class="authors">
          <span class="author-block"><a href="https://anselblume.github.io/" style="color: white;">Ansel Blume</a><sup>1*</sup>,</span>
          <span class="author-block"><a href="https://wjdghks950.github.io/" style="color: white;">Jeonghwan Kim</a><sup>1*</sup>,</span>
          <span class="author-block"><a href="https://hyeonjeongha.github.io/" style="color: white;">Hyeonjeong Ha</a><sup>1</sup>,</span>
          <span class="author-block"><a href="https://www.linkedin.com/in/elenchatikyan/" style="color: white;">Elen Chatikyan</a><sup>1</sup>,</span>
          <span class="author-block"><a href="https://scholar.google.com/citations?user=Jd_tsuEAAAAJ&hl=en" style="color: white;">Xiaomeng Jin</a><sup>1</sup>,</span>
          <span class="author-block"><a href="https://scholar.google.com/citations?user=2RGZO6IAAAAJ&hl=en" style="color: white;">Khanh Duy Nguyen</a><sup>1</sup>,</span>
          <span class="author-block"><a href="https://violetpeng.github.io/" style="color: white;">Nanyun Peng</a><sup>2</sup>,</span>
          <span class="author-block"><a href="https://web.cs.ucla.edu/~kwchang/" style="color: white;">Kai-Wei Chang</a><sup>2</sup>,</span>
          <span class="author-block"><a href="https://dhoiem.cs.illinois.edu/" style="color: white;">Derek Hoiem</a><sup>1</sup>,</span>
          <span class="author-block"><a href="https://blender.cs.illinois.edu/hengji.html" style="color: white;">Heng Ji</a><sup>1</sup></span>
        </div>

        <div style="margin-bottom: 20px;">
          <span style="opacity: 0.9;"><sup>1</sup>University of Illinois Urbana-Champaign, <sup>2</sup>University of California, Los Angeles</span><br>
          <span style="opacity: 0.8; font-size: 0.9rem;"><sup>*</sup>Equal Contribution</span>
        </div>

        <div class="publication-links">
          <!-- If you have an arXiv link later, drop it here -->
          <!-- <a href="https://arxiv.org/abs/xxxx.xxxxx" class="button"><i class="fas fa-file-alt"></i><span>arXiv</span></a> -->
          <!-- <a href="paper.pdf" class="button"><i class="fas fa-file-pdf"></i><span>PDF</span></a> -->
          <a href="https://github.com/AnselBlume/partonomy" class="button">
            <i class="fab fa-github"></i><span>Code</span>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Abstract -->
  <section class="container">
    <div class="section-card fade-in">
      <h2 class="section-title"><i class="fas fa-lightbulb" style="color: var(--accent-color); margin-right: 15px;"></i>Abstract</h2>
      <p style="font-size: 1.08rem; line-height: 1.85;">
        We introduce <strong>PARTONOMY</strong>, a benchmark and task suite for <em>explanatory part segmentation</em>, where a model must (1) identify visible object parts, (2) compare/contrast parts across objects, and (3) perform part–whole reasoning—while <em>grounding</em> its textual answer with pixel-level segmentations. PARTONOMY integrates prior datasets and contributes an evaluation-only <strong>PARTONOMY-Core</strong> split with <strong>534 object</strong> and <strong>862 part</strong> labels, focusing on specialized, object-centric images (e.g., agricultural airplanes, combat drones).
        <br><br>
        We further propose <strong>PLUM</strong>, a segmenting LMM that fixes two limitations in existing approaches: reliance on new “<code>[SEG]</code>” tokens that cause distribution shift, and discarding past masks during decoding. PLUM uses <em>BIO span tagging</em> to select segmentation-relevant text spans (no new tokens) and a <em>mask feedback loop</em> to condition future masks on previous predictions. Pretrained PLUM outperforms prior segmenting LMMs on reasoning segmentation, VQA, and hallucination; when finetuned on PARTONOMY, it is competitive with models trained on far more mask data. 
      </p>
    </div>
  </section>

  <!-- Benchmark & Task -->
  <section class="container">
    <div class="section-card fade-in">
      <h2 class="section-title"><i class="fas fa-database" style="color: var(--secondary-color); margin-right: 15px;"></i>Benchmark & Task</h2>

      <div class="figure-container">
        <img src="./static/images/partonomy_tasks.png" alt="Explanatory Part Segmentation Overview">
        <div class="figure-caption"><strong>Figure 1:</strong> PARTONOMY tasks: Part Identification, Part Comparison (Intersection/Difference), and Part-Whole Reasoning. Models must select the correct textual response and ground its parts with pixel masks.</div>
      </div>

      <h3 class="section-subtitle">Explanatory Part Segmentation</h3>
      <ul style="line-height: 1.9; margin-left: 20px;">
        <li><strong>Part Identification:</strong> list and segment visible parts of the object in the image.</li>
        <li><strong>Part Comparison:</strong> segment parts in common (<em>Intersection</em>) or unique (<em>Difference</em>) between the image object and a queried concept.</li>
        <li><strong>Part–Whole Reasoning:</strong> predict parts then object (<em>Part→Whole</em>), or object then parts (<em>Whole→Part</em>).</li>
      </ul>

      <h3 class="section-subtitle">PARTONOMY-Core (Eval)</h3>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin:16px 0;">
        <div style="background:#eef2ff;padding:16px;border-radius:12px;"><strong>534</strong> object labels</div>
        <div style="background:#ffe4e6;padding:16px;border-radius:12px;"><strong>862</strong> distinct part labels</div>
        <div style="background:#dcfce7;padding:16px;border-radius:12px;"><strong>1,068</strong> images, object-centric</div>
        <div style="background:#fef9c3;padding:16px;border-radius:12px;"><strong>4,968</strong> pixel masks</div>
      </div>

      <p style="margin-top:10px;color:var(--text-secondary);">Answer choices are produced via <em>mutation</em> (add/remove/replace parts) to create challenging, plausible distractors.</p>
    </div>
  </section>

  <!-- Model: PLUM -->
  <section class="container">
    <div class="section-card fade-in">
      <h2 class="section-title"><i class="fas fa-cogs" style="color: var(--primary-color); margin-right: 15px;"></i>PLUM: Part-Level Understanding LMM</h2>

      <div class="figure-container">
        <img src="./static/images/plum_figure.png" alt="PLUM Overview">
        <div class="figure-caption"><strong>Figure 2:</strong> PLUM avoids special tokens via BIO span tagging and conditions on prior masks via a feedback loop.</div>
      </div>

      <h3 class="section-subtitle">Key Ideas</h3>
      <ul style="line-height: 1.9; margin-left: 20px;">
        <li><strong>Span Tagging (BIO):</strong> selects text spans to segment—no new tokens—preserving the LLM's pretraining distribution.</li>
        <li><strong>Query Projection + KL:</strong> projects span embeddings into mask queries with a mild KL constraint to retain language reasoning.</li>
        <li><strong>Mask Feedback Loop:</strong> encodes prior predicted masks (FiLM + pooling) so future masks are consistent and better localized.</li>
      </ul>
    </div>
  </section>

  <!-- Results -->
  <section class="container">
    <div class="section-card fade-in">
      <h2 class="section-title"><i class="fas fa-chart-line" style="color: var(--accent-color); margin-right: 15px;"></i>Results</h2>

      <div class="tab-container">
        <div class="tab-buttons">
          <button class="tab-button active" onclick="showTab('main-results')"><b>Main Results</b></button>
          <button class="tab-button" onclick="showTab('part-whole')"><b>Part–Whole Reasoning</b></button>
          <button class="tab-button" onclick="showTab('generalization')"><b>Generalization</b></button>
          <button class="tab-button" onclick="showTab('ablations')"><b>Ablations</b></button>
        </div>

        <!-- Main Results -->
        <div id="main-results" class="tab-content active">
          <h3 class="section-subtitle">PARTONOMY-Core (Segmentation gIoU)</h3>
          <table class="interactive-table">
            <thead>
              <tr>
                <th>Method</th>
                <th>Extra Seg Data</th>
                <th>Identification (micro / macro)</th>
                <th>Intersection (micro / macro)</th>
                <th>Difference (micro / macro)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>LISA-13B (0-shot)</td><td>✗</td><td>5.9 / 7.0</td><td>7.1 / 7.5</td><td>6.1 / 7.1</td>
              </tr>
              <tr>
                <td>GLaMM (0-shot)</td><td>✓</td><td>5.3 / 5.9</td><td>5.9 / 6.2</td><td>5.2 / 6.0</td>
              </tr>
              <tr class="highlight">
                <td><strong>PLUM (0-shot)</strong></td><td><strong>✗</strong></td><td><strong>14.5 / 27.4</strong></td><td><strong>23.7 / 29.9</strong></td><td><strong>14.9 / 24.8</strong></td>
              </tr>
              <tr>
                <td>LISA-13B (ft)</td><td>✗</td><td>33.6 / 35.4</td><td>37.0 / 38.4</td><td>30.4 / 31.6</td>
              </tr>
              <tr>
                <td>GLaMM (ft)</td><td>✓</td><td>36.6 / 38.8</td><td>40.3 / 42.1</td><td>33.6 / 34.8</td>
              </tr>
              <tr class="highlight">
                <td><strong>PLUM (ft)</strong></td><td><strong>✗</strong></td><td><strong>36.2 / 41.6</strong></td><td><strong>42.1 / 45.9</strong></td><td><strong>33.0 / 39.4</strong></td>
              </tr>
            </tbody>
          </table>
          <p style="color:var(--text-secondary);margin-top:10px;">Numbers adapted from the paper’s Table 2.</p>
        </div>

        <!-- Part-Whole -->
        <div id="part-whole" class="tab-content">
          <h3 class="section-subtitle">Part–Whole Reasoning (Core, gIoU on parts)</h3>
          <table class="interactive-table">
            <thead>
              <tr>
                <th>Method</th>
                <th>Part→Whole (micro / macro)</th>
                <th>Whole→Part (micro / macro)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>LISA-13B (0-shot)</td><td>5.7 / 6.6</td><td>6.0 / 6.8</td>
              </tr>
              <tr>
                <td>GLaMM (0-shot)</td><td>4.8 / 5.6</td><td>4.9 / 5.8</td>
              </tr>
              <tr class="highlight">
                <td><strong>PLUM (0-shot)</strong></td><td><strong>14.3 / 26.8</strong></td><td><strong>15.4 / 27.5</strong></td>
              </tr>
              <tr>
                <td>GLaMM (ft)</td><td>36.1 / 38.5</td><td>35.7 / 38.0</td>
              </tr>
              <tr class="highlight">
                <td><strong>PLUM (ft)</strong></td><td><strong>36.7 / 40.8</strong></td><td><strong>36.2 / 39.8</strong></td>
              </tr>
            </tbody>
          </table>
          <p style="margin-top:10px;">Predicting the object first (<em>Whole→Part</em>) tends to improve subsequent part masks.</p>
        </div>

        <!-- Generalization -->
        <div id="generalization" class="tab-content">
          <h3 class="section-subtitle">Generalization to Other Tasks</h3>
          <ul style="line-height:1.9;margin-left:20px;">
            <li><strong>ReasonSeg:</strong> PLUM-13B (ft) <strong>57.3 gIoU</strong> vs. LISA-13B (ft) 56.2.</li>
            <li><strong>VQA / Hallucination:</strong> avoids collapse from special tokens; beats LLaVA-13B on TextVQA (+31.8% rel.) and POPE (+8.9% rel.).</li>
            <li><strong>Zero-shot on public part datasets:</strong> large macro-gIoU gains on PACO_LVIS, PartImageNet, PascalParts.</li>
          </ul>
        </div>

        <!-- Ablations -->
        <div id="ablations" class="tab-content">
          <h3 class="section-subtitle">Ablations (What matters?)</h3>
          <ul style="line-height:1.9;margin-left:20px;">
            <li><strong>Mask Feedback Loop:</strong> −9.6% micro / −8% macro gIoU without it.</li>
            <li><strong>BIO Tagging:</strong> removes token shift; big macro gains on long-tail parts.</li>
            <li><strong>KL Weight:</strong> trades segmentation vs. reasoning; λ<sub>KL</sub>=0.1 is a good balance.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Resources -->
  <section class="container">
    <div class="section-card fade-in">
      <h2 class="section-title"><i class="fas fa-download" style="color: var(--accent-color); margin-right: 15px;"></i>Resources</h2>
      <div class="resource-grid">
        <div class="resource-card">
          <div class="icon"><i class="fab fa-github"></i></div>
          <h3 style="margin-bottom: 15px; color: var(--text-primary);">Code</h3>
          <p style="color: var(--text-secondary); margin-bottom: 20px;">Training/eval code for PLUM and the PARTONOMY data pipeline.</p>
          <a href="https://github.com/AnselBlume/partonomy" class="button" style="background: var(--secondary-color); color: white; border: none;">
            <i class="fas fa-code"></i><span>GitHub</span>
          </a>
        </div>
        <div class="resource-card">
          <div class="icon"><i class="fas fa-file-pdf"></i></div>
          <h3 style="margin-bottom: 15px; color: var(--text-primary);">Paper</h3>
          <p style="color: var(--text-secondary); margin-bottom: 20px;">Preprint under review. Link coming soon.</p>
          <a href="#" class="button" style="background: var(--primary-color); color: white; border: none;">
            <i class="fas fa-file-alt"></i><span>Coming soon</span>
          </a>
        </div>
        <div class="resource-card">
          <div class="icon"><i class="fas fa-database"></i></div>
          <h3 style="margin-bottom: 15px; color: var(--text-primary);">Dataset</h3>
          <p style="color: var(--text-secondary); margin-bottom: 20px;">Instructions and scripts to build PARTONOMY and PARTONOMY-Core.</p>
          <a href="https://github.com/AnselBlume/partonomy" class="button" style="background: var(--accent-color); color: white; border: none;">
            <i class="fas fa-box-open"></i><span>Instructions</span>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Citation -->
  <section class="container">
    <div class="section-card fade-in">
      <h2 class="section-title"><i class="fas fa-quote-left" style="color: var(--secondary-color); margin-right: 15px;"></i>Citation</h2>
      <div style="background:#1e293b;color:#e2e8f0;padding:25px;border-radius:12px;font-family:'Courier New',monospace;position:relative;overflow-x:auto;">
        <button onclick="copyBibtex()" style="position:absolute;top:15px;right:15px;background:var(--secondary-color);color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:.9rem;">
          <i class="fas fa-copy"></i> Copy
        </button>
<pre id="bibtex-content" style="margin:0;line-height:1.6;font-size:.95rem;">
@misc{blume2025partonomy,
  title        = {PARTONOMY: Large Multimodal Models with Part-Level Visual Understanding},
  author       = {Ansel Blume and Jeonghwan Kim and Hyeonjeong Ha and Elen Chatikyan and
                  Xiaomeng Jin and Khanh Duy Nguyen and Nanyun Peng and Kai-Wei Chang and
                  Derek Hoiem and Heng Ji},
  year         = {2025},
  note         = {Preprint. Under review. Code: https://github.com/AnselBlume/partonomy}
}
</pre>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer style="background: var(--text-primary); color: white; padding: 40px 0; margin-top: 60px;">
    <div class="container" style="text-align: center;">
      <p style="margin-bottom: 15px;">
        This website's template is inspired by <a href="https://github.com/RAGEN-AI/ragen-ai.github.io" style="color: var(--accent-color);">RAGEN</a>. 
        We thank the authors for open-sourcing their code.
      </p>
      <p style="opacity: 0.7; font-size: 0.9rem;">
        © 2025 PARTONOMY Team. All rights reserved.
      </p>
    </div>
  </footer>

  <script>
    // Scroll indicator
    window.addEventListener('scroll', () => {
      const scrollTop = document.documentElement.scrollTop;
      const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = (scrollTop / scrollHeight) * 100;
      document.getElementById('scrollIndicator').style.width = scrollPercent + '%';
    });

    // Fade in on scroll
    const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -50px 0px' };
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
    }, observerOptions);
    document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

    // Tabs
    function showTab(tabId) {
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');
      event.target.classList.add('active');
    }

    // Copy bibtex
    function copyBibtex() {
      const bibtexContent = document.getElementById('bibtex-content').textContent;
      navigator.clipboard.writeText(bibtexContent).then(() => {
        const button = event.target.closest('button');
        const originalText = button.innerHTML;
        button.innerHTML = '<i class="fas fa-check"></i> Copied!';
        button.style.background = '#10b981';
        setTimeout(() => {
          button.innerHTML = originalText;
          button.style.background = 'var(--secondary-color)';
        }, 2000);
      });
    }

    // "Coming soon" buttons get loading spinner
    document.querySelectorAll('.button').forEach(button => {
      if (button.textContent.toLowerCase().includes('coming soon')) {
        button.addEventListener('click', (e) => {
          e.preventDefault();
          const originalContent = button.innerHTML;
          button.innerHTML = '<div class="loading"></div> Loading...';
          button.style.pointerEvents = 'none';
          setTimeout(() => {
            button.innerHTML = originalContent;
            button.style.pointerEvents = 'auto';
          }, 1500);
        });
      }
    });

    // Parallax for hero
    window.addEventListener('scroll', () => {
      const scrolled = window.pageYOffset;
      const hero = document.querySelector('.hero');
      if (hero && scrolled < hero.offsetHeight) {
        hero.style.transform = `translateY(${scrolled * 0.5}px)`;
      }
    });
  </script>
</body>
</html>
